<mvc:View
        controllerName="ilim.pdm2.vacation_planning.controller.ApprovalDashboard"
        xmlns:mvc="sap.ui.core.mvc"
        xmlns:l="sap.ui.layout"
        xmlns:m="sap.m"
        xmlns:viz="sap.viz.ui5.controls"
        xmlns:viz.data="sap.viz.ui5.data"
        xmlns:viz.feeds="sap.viz.ui5.controls.common.feeds"
        displayBlock="true"
        height="100%">



    <m:FlexBox fitContainer="true" renderType="Bare" justifyContent="SpaceBetween">
        <m:items>
            <m:Panel width="45%" backgroundDesign="Solid">
                <m:headerToolbar>
                    <m:Toolbar height="3rem">
                        <m:Title text="{i18n>dashboard.noAccessEmployees.title}"/>
                        <m:ToolbarSpacer />
                        <m:Button icon="sap-icon://excel-attachment" text="{i18n>dashboard.noAccessEmployees.T7ButtonText}"
                                  press="onDownloadT7"
                        />
                    </m:Toolbar>
                </m:headerToolbar>
                <m:content>
                    <m:Table fixedLayout="false" items="{oData>/NoAccessEmployeesSet}" id="noAccessEmployeesTable">
                        <m:columns>
                            <m:Column vAlign="Middle" hAlign="Center">
                                <m:Text text="{i18n>dashboard.noAccessEmployees.numberSign}" />
                            </m:Column>
                            <m:Column vAlign="Middle" hAlign="Center">
                                <m:Text text="{i18n>dashboard.noAccessEmployees.EmployeeId}" />
                            </m:Column>
                            <m:Column vAlign="Middle" hAlign="Center">
                                <m:Text text="{i18n>dashboard.noAccessEmployees.Employee}" />
                            </m:Column>
                            <m:Column vAlign="Middle" hAlign="Center">
                                <m:Text text="{i18n>dashboard.noAccessEmployees.Department}" />
                            </m:Column>
                        </m:columns>
                        <m:items>
                            <m:ColumnListItem>
                                <m:cells>
                                    <m:ObjectIdentifier
                                            text=""/>
                                    <m:ObjectIdentifier
                                            text="{oData>EmployeeId}"/>
                                    <m:ObjectIdentifier
                                            title="{oData>EmployeeName}"
                                            text="{oData>PositionText}"/>
                                    <m:ObjectIdentifier
                                            text="{oData>OrgunitText}"/>
                                </m:cells>
                            </m:ColumnListItem>
                        </m:items>
                    </m:Table>
                </m:content>
            </m:Panel>
            <m:Panel width="45%" backgroundDesign="Solid" headerText="{i18n>dashboard.graphic.absencePercent}" height="300px">
                <viz:VizFrame id="idVizFrame" height='100%' width="100%" vizType='column'
                  vizProperties="{
                                   valueAxis: {
                                     title: {
                                       visible: false
                                     },
                                     label: {
                                       visible: false
                                     }
                                   },
                                   categoryAxis: {
                                     title: {
                                       visible: false
                                     }
                                   },
                                   title: {
                                     visible: false
                                   },
                                   legendGroup: {
                                     layout: {
                                       position: 'bottom'
                                     }
                                   },
                                   legend: {
                                     visible: false
                                   },
                                   toolTip : {  
                                     visible: false 
                                   },        
                                   interaction: {
                                     behaviorType: 'noHoverBehavior'
                                   },                                                      
                                   plotArea: {
                                     referenceLine: {
                                       line: {
                                         valueAxis: [{
                                           value: 3,
                                           visible: true,
                                           size: 1,
                                           type: 'dotted',
                                           label: {
                                             text: 'Target',
                                             visible: false
                                           }
                                         }]
                                       }
                                     }
                                   }                                                                    
                                 }">
                    <viz:dataset>
                        <viz.data:FlattenedDataset data="{oData>/AbsencePercentGraphSet}">
                            <viz.data:dimensions>
                                <viz.data:DimensionDefinition name="Months"
                                                              value="{Dimension}" />
                            </viz.data:dimensions>
                            <viz.data:measures>
                                <viz.data:MeasureDefinition name="Percent"
                                                            value="{Measure}" />
                            </viz.data:measures>
                        </viz.data:FlattenedDataset>
                    </viz:dataset>

                    <viz:feeds>
                        <viz.feeds:FeedItem id='valueAxisFeed' uid="valueAxis" type="Measure"
                                            values="Percent" />
                        <viz.feeds:FeedItem id='categoryAxisFeed' uid="categoryAxis" type="Dimension"
                                            values="Months" />
                    </viz:feeds>
                </viz:VizFrame>
            </m:Panel>

        </m:items>
    </m:FlexBox>

    <m:FlexBox fitContainer="true" renderType="Bare" justifyContent="SpaceBetween" class="sapUiMediumMarginTop">
        <m:Panel width="30%" backgroundDesign="Solid" headerText="{i18n>dashboard.graphic.numberApproved}" height="300px">
            <viz:VizFrame id="idVizFrame2" height='100%' width="100%" vizType='donut'
                vizProperties="{
                                 valueAxis: {
                                   title: {
                                     visible: false
                                   },
                                   label: {
                                     visible: false
                                   }
                                 },
                                 categoryAxis: {
                                   title: {
                                     visible: false
                                   }
                                 },
                                 title: {
                                   visible: false
                                 },
                                 legendGroup: {
                                   layout: {
                                     position: 'bottom'
                                   }
                                 },
                                 legend: {
                                   visible: true
                                 },
                                 toolTip : {  
                                   visible: false 
                                 },        
                                 interaction: {
                                   behaviorType: 'noHoverBehavior'
                                 }                                                    
                               }">
                <viz:dataset>
                    <viz.data:FlattenedDataset data="{oData>/ApproveNumberGraphSet}">
                        <viz.data:dimensions>
                            <viz.data:DimensionDefinition name="Category"
                                                          value="{Dimension}" />
                        </viz.data:dimensions>
                        <viz.data:measures>
                            <viz.data:MeasureDefinition name="Number"
                                                        value="{Measure}" />
                        </viz.data:measures>
                    </viz.data:FlattenedDataset>
                </viz:dataset>

                <viz:feeds>
                    <viz.feeds:FeedItem uid="size" type="Measure"
                                        values="Number" />
                    <viz.feeds:FeedItem uid="color" type="Dimension"
                                        values="Category" />
                </viz:feeds>
            </viz:VizFrame>
        </m:Panel>
        <m:Panel width="45%" backgroundDesign="Solid" headerText="{i18n>dashboard.graphic.vacDaysPlanned}" height="300px">
            <viz:VizFrame id="idVizFrame3" height='100%' width="100%" vizType='bar'
                vizProperties="{
                                 valueAxis: {
                                   title: {
                                     visible: false
                                   },
                                   label: {
                                     visible: false
                                   }
                                 },
                                 categoryAxis: {
                                   title: {
                                     visible: false
                                   },
                                   label: {
                                     visible: false
                                   }                                   
                                 },
                                 title: {
                                   visible: false
                                 },
                                 legendGroup: {
                                   layout: {
                                     position: 'bottom'
                                   }
                                 },
                                 legend: {
                                   visible: true
                                 },
                                 toolTip : {  
                                   visible: false 
                                 },        
                                 interaction: {
                                   behaviorType: 'noHoverBehavior'
                                 },                                                          
                                 plotArea: {
                                   referenceLine: {
                                     line: {
                                       valueAxis: [{
                                         value: 3,
                                         visible: true,
                                         size: 1,
                                         type: 'dotted',
                                         label: {
                                           text: 'Target',
                                           visible: false
                                         }
                                       }]
                                     }
                                   }
                                 }
                               }">
                <viz:dataset>
                    <viz.data:FlattenedDataset data="{oData>/VacationPlanDaysGraphSet}">
                        <viz.data:dimensions>
                            <viz.data:DimensionDefinition name="Category"
                                                          value="{Dimension}" />
                        </viz.data:dimensions>
                        <viz.data:measures>
                            <viz.data:MeasureDefinition name="Days"
                                                        value="{Measure}" />
                        </viz.data:measures>
                    </viz.data:FlattenedDataset>
                </viz:dataset>

                <viz:feeds>
                    <viz.feeds:FeedItem uid="valueAxis" type="Measure"
                                        values="Days" />
                    <viz.feeds:FeedItem uid="categoryAxis" type="Dimension"
                                        values="Category" />
                    <viz.feeds:FeedItem uid="color" type="Dimension"
                                        values="Category" />
                </viz:feeds>
            </viz:VizFrame>
        </m:Panel>

    </m:FlexBox>

</mvc:View>
